<!doctype html>
<html>

<head>
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta charset="utf-8" content="">
    <title>JSONテスト</title>
    <script src="js/jquery-3.6.0.min.js"></script>

</head>

<body>
    <h1>JSON2-1（PHP⇒Javascript）※PHPから受信したJSONを表示</h1>
    <button id="button">ボタン</button><br><br>
    JSで作成した連想配列をJson化（JSON.stringify）:<br>
    <div id="output1"></div>
    <hr>
    PHPから受信した値を出力:<br>
    <div id="output2"></div>
    <hr>
    PHPから受信した値をParse（JSON.parse）した値:<br>
    <div id="output3"></div><br>
    <script type="text/javascript">
        $('#button').on('click', function () {
            // alert("クリックされました");
            send_ajax();
        });

        function send_ajax() {
            $.ajax({
                type: "GET",
                url: "json2-1.php"})
                .done(function (msg) {
                    alert(msg);
                    console.log(msg);
                    $("#output2").append(msg);
                    var get_json = JSON.parse(msg);
                    for (var key in get_json) {
                        $("#output3").append("キー：" + key + "　");
                        $("#output3").append("値：" + get_json[key] + "<br />");
                        console.log(key);
                    }
                });
            }
    </script>
    <script type="text/javascript">
    </script>
</body>

</html>